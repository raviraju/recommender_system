## Convert RDS data to CSV

Using notebook `load_rds_into_csv.ipynb`

## Analyse Data and perform cleaning

Using notebook `preprocessed_data\analyse compass events data.ipynb` to generate `latest_rating.csv`

## Generate Train, Validation and Test Datasets

`python split_train_test_data.py --kfolds_split --no_of_kfolds 10 --min_no_of_items 10 --validation_size 0.2 preprocessed_data/latest_rating.csv learner_id media_id like_rating > preprocessed_data/kfolds_split.txt`

## HyperParam search using Validation Dataset

Configure search parameters in `param_search/experiments.py` and generate a pickle file `experiments.pickle`
`python hyper_param_search.py param_search/experiments.pickle`

Configure best hyperparameters in `configs/tuned_configs.py` and generate pickle file `tuned_configs.pickle`


## Generate recommendations for Validation dataset using best hyperparameters

`python generate_kfold_recommendations.py configs/tuned_configs.pickle --validation`
Summary of all recommendations are found in `model_validation/summary_results.json`


## Generate recommendations for Testing dataset using best hyperparameters

`python generate_kfold_recommendations.py configs/tuned_configs.pickle --testing`
Summary of all recommendations are found in `model_testing/summary_results.json`


## Compare rmse of validation and testing dataset

Use `merge validation and testing recommendations.ipynb` to generate `validation_testing_results.csv`

## Generate top N recommendations for Anti Testset(Predict ratings for all pairs (u, i) that are NOT in the training)

Choose algorithms  in `configs/tuned_configs_top_n.py` and generate pickle file `tuned_configs_top_n.pickle`

`python generate_recommendations.py configs/tuned_configs_top_n.pickle --train preprocessed_data/latest_rating.csv`
`python generate_recommendations.py configs/tuned_configs_top_n.pickle --predict`
`python generate_recommendations.py configs/tuned_configs_top_n.pickle --top_n`

# Hybrid Recommenders

## Generate kfold data for hybrid recommender using testing predictions generated by models

`python hybrid_recommender_generate_data.py configs/tuned_configs.pickle model_testing/`


## Search for hyper parameters of hybrid recommender

`python hybrid_recommender_search.py`

## Use best parameters of hybrid recommender to generate hybrid recommendations for kfold testset

`python hybrid_recommender_generate_kfold_recommendations.py`

## Generate top N recommendations using hybrid recommenders for Anti Testset

`python hybrid_recommender_generate_recommendations.py`
